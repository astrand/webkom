
System overview
===============

+-------+  1  +---------+  2  +-----+  3  +-------+
|lyskomd|-----|webkom.py|-----|httpd|-----|browser|
+-------+     +---------+     +-----+     +-------+
                   | 4
              +-----------+
              |fifoterm.py|
              +-----------+

1) Protocol A
2) FastCGI sockets
3) HTTP
4) FIFO-pair


WebKOM Components
=================
webkom.py is the central component. It is a threaded, persistent
FastCGI process. 

httpd is any FastCGI-capable webbserver. 

fifoterm.py is an optional interactive console, mainly used for
debugging. 

webkom.py and fifoterm.py must be running on the same machine (because
FIFOs are used for communication). All other components can run on
different machines. 


Requirements
============
* Python 2.0 or newer.
* FastCGI-capable webbserver (eg. Apache with mod_fastcgi).
* fcgi.py
* Python-lyskom (kom.py)
* HTMLgen (apply included patch HTMLgen.patch for best result)


Installation
============
1. Decide a web home directory, for example /home/httpd. In this
   documentation, the web home is denoted <webhome>. 

   Decide a web root directory under <webhome>, for example
   /home/httpd/html. The web root directory is denoted <webroot>.

   The WebKOM distribution directory is denoted <webkom>. 

2. Copy <webkom>/images to <webroot>/images. 

3. Copy <webkom>/*.py to <webhome>/fcgi-bin. Make sure webkom.py is
   executable. 

4. Copy <webkom>/*.html to <webroot>.

5. Setup webserver. For Apache, this means compiling with mod_fastcgi
   and editing httpd.conf. In particular, pay attention to these
   parameters:

   DocumentRoot "<webroot>"
   FastCgiServer <webhome>/fcgi-bin/webkom.py -idle-timeout 60

   <Directory "<webhome>/fcgi-bin">
       SetHandler fastcgi-script
   </Directory>

6. (optional step, for translations) Make a directory tree for GNU
   gettext translation files. Change LOCALE_DIR in webkom_constants.py
   to this directory. Go to the "po" directory and run ./install.py
   <locale-dir>. 

7. Configure constants in webkom_constants.py. Documentation for these
   can be found in the file CONSTANTS. 